{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Search from\"../common/SearchForm\";import JoblyApi from\"../api/api\";import JobCardList from\"./JobCardList\";import LoadingSpinner from\"../common/LoadingSpinner\";/** Show page with list of jobs.\n *\n * On mount, loads jobs from API.\n * Re-loads filtered jobs on submit from search form.\n *\n * JobList -> JobCardList -> JobCard\n *\n * This is routed to at /jobs\n */function JobList(){console.debug(\"JobList\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),jobs=_useState2[0],setJobs=_useState2[1];useEffect(function getAllJobsOnMount(){console.debug(\"JobList useEffect getAllJobsOnMount\");search();},[]);/** Triggered by search form submit; reloads jobs. */function search(_x){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(title){var jobs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return JoblyApi.getJobs(title);case 2:jobs=_context.sent;setJobs(jobs);case 4:case\"end\":return _context.stop();}}},_callee);}));return _search.apply(this,arguments);}if(!jobs)return/*#__PURE__*/React.createElement(LoadingSpinner,null);return/*#__PURE__*/React.createElement(\"div\",{className:\"JobList col-md-8 offset-md-2\"},/*#__PURE__*/React.createElement(Search,{searchFor:search}),jobs.length?/*#__PURE__*/React.createElement(JobCardList,{jobs:jobs}):/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},\"Sorry, no results were found!\"));}export default JobList;","map":{"version":3,"sources":["/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/src/jobs/JobList.js"],"names":["React","useState","useEffect","Search","JoblyApi","JobCardList","LoadingSpinner","JobList","console","debug","jobs","setJobs","getAllJobsOnMount","search","title","getJobs","length"],"mappings":"mkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASC,CAAAA,OAAT,EAAmB,CACjBC,OAAO,CAACC,KAAR,CAAc,SAAd,EAEA,cAAwBR,QAAQ,CAAC,IAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eAEAT,SAAS,CAAC,QAASU,CAAAA,iBAAT,EAA6B,CACrCJ,OAAO,CAACC,KAAR,CAAc,qCAAd,EACAI,MAAM,GACP,CAHQ,CAGN,EAHM,CAAT,CAKA,qDAViB,QAWFA,CAAAA,MAXE,8HAWjB,iBAAsBC,KAAtB,iJACmBV,CAAAA,QAAQ,CAACW,OAAT,CAAiBD,KAAjB,CADnB,QACMJ,IADN,eAEEC,OAAO,CAACD,IAAD,CAAP,CAFF,sDAXiB,yCAgBjB,GAAI,CAACA,IAAL,CAAW,mBAAO,oBAAC,cAAD,MAAP,CAEX,mBACI,2BAAK,SAAS,CAAC,8BAAf,eACE,oBAAC,MAAD,EAAQ,SAAS,CAAEG,MAAnB,EADF,CAEGH,IAAI,CAACM,MAAL,cACK,oBAAC,WAAD,EAAa,IAAI,CAAEN,IAAnB,EADL,cAEK,yBAAG,SAAS,CAAC,MAAb,kCAJR,CADJ,CASD,CAED,cAAeH,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"../common/SearchForm\";\nimport JoblyApi from \"../api/api\";\nimport JobCardList from \"./JobCardList\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\n/** Show page with list of jobs.\n *\n * On mount, loads jobs from API.\n * Re-loads filtered jobs on submit from search form.\n *\n * JobList -> JobCardList -> JobCard\n *\n * This is routed to at /jobs\n */\n\nfunction JobList() {\n  console.debug(\"JobList\");\n\n  const [jobs, setJobs] = useState(null);\n\n  useEffect(function getAllJobsOnMount() {\n    console.debug(\"JobList useEffect getAllJobsOnMount\");\n    search();\n  }, []);\n\n  /** Triggered by search form submit; reloads jobs. */\n  async function search(title) {\n    let jobs = await JoblyApi.getJobs(title);\n    setJobs(jobs);\n  }\n\n  if (!jobs) return <LoadingSpinner />;\n\n  return (\n      <div className=\"JobList col-md-8 offset-md-2\">\n        <Search searchFor={search} />\n        {jobs.length\n            ? <JobCardList jobs={jobs} />\n            : <p className=\"lead\">Sorry, no results were found!</p>\n        }\n      </div>\n  );\n}\n\nexport default JobList;\n"]},"metadata":{},"sourceType":"module"}