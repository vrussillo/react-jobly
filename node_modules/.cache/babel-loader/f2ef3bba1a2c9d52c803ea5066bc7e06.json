{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import SearchForm from\"../common/SearchForm\";import JoblyApi from\"../api/api\";import CompanyCard from\"./CompanyCard\";import LoadingSpinner from\"../common/LoadingSpinner\";/** Show page with list of companies.\n *\n * On mount, loads companies from API.\n * Re-loads filtered companies on submit from search form.\n *\n * This is routed to at /companies\n *\n * Routes -> { CompanyCard, SearchForm }\n */function CompanyList(){console.debug(\"CompanyList\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];useEffect(function getCompaniesOnMount(){console.debug(\"CompanyList useEffect getCompaniesOnMount\");search();},[]);/** Triggered by search form submit; reloads companies. */function search(_x){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name){var companies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return JoblyApi.getCompanies(name);case 2:companies=_context.sent;setCompanies(companies);case 4:case\"end\":return _context.stop();}}},_callee);}));return _search.apply(this,arguments);}if(!companies)return/*#__PURE__*/React.createElement(LoadingSpinner,null);return/*#__PURE__*/React.createElement(\"div\",{className:\"CompanyList col-md-8 offset-md-2\"},/*#__PURE__*/React.createElement(SearchForm,{searchFor:search}),companies.length?/*#__PURE__*/React.createElement(\"div\",{className:\"CompanyList-list\"},companies.map(function(c){return/*#__PURE__*/React.createElement(CompanyCard,{key:c.handle,handle:c.handle,name:c.name,description:c.description,logoUrl:c.logoUrl});})):/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},\"Sorry, no results were found!\"));}export default CompanyList;","map":{"version":3,"sources":["/Users/vaughnrussillo/SpringBoard_Projects/react/react-jobly-solution/jobly/src/companies/CompanyList.js"],"names":["React","useState","useEffect","SearchForm","JoblyApi","CompanyCard","LoadingSpinner","CompanyList","console","debug","companies","setCompanies","getCompaniesOnMount","search","name","getCompanies","length","map","c","handle","description","logoUrl"],"mappings":"mkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASC,CAAAA,WAAT,EAAuB,CACrBC,OAAO,CAACC,KAAR,CAAc,aAAd,EAEA,cAAkCR,QAAQ,CAAC,IAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eAEAT,SAAS,CAAC,QAASU,CAAAA,mBAAT,EAA+B,CACvCJ,OAAO,CAACC,KAAR,CAAc,2CAAd,EACAI,MAAM,GACP,CAHQ,CAGN,EAHM,CAAT,CAKA,0DAVqB,QAWNA,CAAAA,MAXM,8HAWrB,iBAAsBC,IAAtB,sJACwBV,CAAAA,QAAQ,CAACW,YAAT,CAAsBD,IAAtB,CADxB,QACMJ,SADN,eAEEC,YAAY,CAACD,SAAD,CAAZ,CAFF,sDAXqB,yCAgBrB,GAAI,CAACA,SAAL,CAAgB,mBAAO,oBAAC,cAAD,MAAP,CAEhB,mBACI,2BAAK,SAAS,CAAC,kCAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAEG,MAAvB,EADF,CAEGH,SAAS,CAACM,MAAV,cAEO,2BAAK,SAAS,CAAC,kBAAf,EACGN,SAAS,CAACO,GAAV,CAAc,SAAAC,CAAC,qBACZ,oBAAC,WAAD,EACI,GAAG,CAAEA,CAAC,CAACC,MADX,CAEI,MAAM,CAAED,CAAC,CAACC,MAFd,CAGI,IAAI,CAAED,CAAC,CAACJ,IAHZ,CAII,WAAW,CAAEI,CAAC,CAACE,WAJnB,CAKI,OAAO,CAAEF,CAAC,CAACG,OALf,EADY,EAAf,CADH,CAFP,cAcO,yBAAG,SAAS,CAAC,MAAb,kCAhBV,CADJ,CAqBD,CAED,cAAed,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchForm from \"../common/SearchForm\";\nimport JoblyApi from \"../api/api\";\nimport CompanyCard from \"./CompanyCard\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\n/** Show page with list of companies.\n *\n * On mount, loads companies from API.\n * Re-loads filtered companies on submit from search form.\n *\n * This is routed to at /companies\n *\n * Routes -> { CompanyCard, SearchForm }\n */\n\nfunction CompanyList() {\n  console.debug(\"CompanyList\");\n\n  const [companies, setCompanies] = useState(null);\n\n  useEffect(function getCompaniesOnMount() {\n    console.debug(\"CompanyList useEffect getCompaniesOnMount\");\n    search();\n  }, []);\n\n  /** Triggered by search form submit; reloads companies. */\n  async function search(name) {\n    let companies = await JoblyApi.getCompanies(name);\n    setCompanies(companies);\n  }\n\n  if (!companies) return <LoadingSpinner />;\n\n  return (\n      <div className=\"CompanyList col-md-8 offset-md-2\">\n        <SearchForm searchFor={search} />\n        {companies.length\n            ? (\n                <div className=\"CompanyList-list\">\n                  {companies.map(c => (\n                      <CompanyCard\n                          key={c.handle}\n                          handle={c.handle}\n                          name={c.name}\n                          description={c.description}\n                          logoUrl={c.logoUrl}\n                      />\n                  ))}\n                </div>\n            ) : (\n                <p className=\"lead\">Sorry, no results were found!</p>\n            )}\n      </div>\n  );\n}\n\nexport default CompanyList;\n"]},"metadata":{},"sourceType":"module"}